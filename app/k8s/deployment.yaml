apiVersion: apps/v1  # API 버전 (Deployment를 정의할 때 사용하는 Kubernetes API 그룹)
kind: Deployment  # 리소스 종류 (Deployment 객체 생성)
metadata:
  name: fastapi-app  # Deployment의 이름 (fastapi-app이라는 이름으로 정의됨)
spec:
  replicas: 2  # Pod을 2개 실행 (수평 확장을 위한 설정)
  selector:
    matchLabels:
      app: fastapi-app  # 이 레이블이 있는 Pod을 관리
  template:
    metadata:
      labels:
        app: fastapi-app  # Pod에 붙일 레이블 (Service에서 Pod을 찾을 때 사용)
    spec:
      containers:
      - name: fastapi-app  # 컨테이너 이름
        image: fastapi-app:latest  # 사용할 Docker 이미지 (로컬에서 빌드한 fastapi-app:latest 사용)
        ports:
        - containerPort: 8000  # 컨테이너 내부에서 노출할 포트 (FastAPI 기본 포트)